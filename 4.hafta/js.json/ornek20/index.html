<!DOCTYPE html>
<html>
<body>

<h2>Use HTTP POST to Get JSON Data from a PHP Server</h2>

<ul id="demo"></ul>

<script>
// Gönderilecek parametre
const params = { limit: 5 };

// fetch ile POST isteği
fetch("json_demo_db_post.php", {
  method: "POST",
  headers: {
    "Content-Type": "application/json"
  },
  body: JSON.stringify(params)
})
.then(response => {
  if (!response.ok) throw new Error("Network response was not ok " + response.statusText);
  return response.json(); // JSON'u ayrıştırıyoruz
})
.then(data => {
  const demo = document.getElementById("demo");
  demo.innerHTML = "";

  data.forEach(item => {
    const li = document.createElement("li");
    li.innerHTML = `<strong>${item.name}</strong>, Age: ${item.age}`;
    demo.appendChild(li);
  });
})
.catch(error => {
  document.getElementById("demo").innerHTML = "Error: " + error;
});
</script>

<p>Try changing the "limit" property from 5 to another number.</p>

</body>
</html>
